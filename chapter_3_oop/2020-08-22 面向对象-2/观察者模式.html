<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button class="btn">点击</button>
</body>
<script>

const fn1 = function(){
console.log("fn1");
}
const fn2 = function(){
console.log("fn2");
}

// document.querySelector(".btn").addEventListener("click",fn1)
// document.querySelector(".btn").addEventListener("click",fn2)

let handles = {};
// 自定义事件
// 注册事件
function addEvent(eventName,fn){
    // handles['myevent'] = [fn1,fn2];
    if(typeof  handles[eventName] === "undefined"){
        handles[eventName] = [];
    }
    handles[eventName].push(fn);
}

function trigger(eventName){
    if(typeof handles[eventName]=== "undefined"){
        return ;
    }
    handles[eventName].forEach(fn=>{
        fn();
    });
}


addEvent("myevent",fn1);
addEvent("myevent",fn2);
// console.log(handles);
trigger("myevent");











</script>
</html>